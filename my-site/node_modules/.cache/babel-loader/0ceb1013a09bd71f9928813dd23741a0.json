{"remainingRequest":"E:\\VUE2学习\\练习VUE博客与就业\\个人博客项目\\my-site\\node_modules\\babel-loader\\lib\\index.js!E:\\VUE2学习\\练习VUE博客与就业\\个人博客项目\\my-site\\src\\directives\\loading.js","dependencies":[{"path":"E:\\VUE2学习\\练习VUE博客与就业\\个人博客项目\\my-site\\src\\directives\\loading.js","mtime":1617305774121},{"path":"E:\\VUE2学习\\练习VUE博客与就业\\个人博客项目\\my-site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\VUE2学习\\练习VUE博客与就业\\个人博客项目\\my-site\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGxvYWRpbmdVcmwgZnJvbSAiQC9hc3NldHMvbG9hZGluZy5zdmciOwppbXBvcnQgc3R5bGVzIGZyb20gIi4vbG9hZGluZy5tb2R1bGUubGVzcyI7CgpmdW5jdGlvbiBnZXRJbWFnZSgpIHsKICB2YXIgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7CiAgaW1nLmRhdGFzZXQucm9sZSA9ICJsb2FkaW5nIjsKICBpbWcuc3JjID0gbG9hZGluZ1VybDsKICBpbWcuY2xhc3NOYW1lID0gc3R5bGVzLmxvYWRpbmc7CiAgcmV0dXJuIGltZzsKfQoKZnVuY3Rpb24gZ2V0SW1nVXJsKGVsKSB7CiAgdmFyIHN0ciA9IGVsLnF1ZXJ5U2VsZWN0b3IoImltZ1tkYXRhLXJvbGUgPSBsb2FkaW5nXSIpOyAvLyBjb25zb2xlLmxvZygiZWwiLHN0cikKCiAgcmV0dXJuIHN0cjsKfQoKOwpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoZWwsIGJpbmRpbmcpIHsKICAvLyBjb25zb2xlLmxvZyhlbCkKICB2YXIgc3JjSW1nID0gZ2V0SW1nVXJsKGVsKTsgLy8gICAgY29uc29sZS5sb2coIjEiLHNyY0ltZykKCiAgaWYgKGJpbmRpbmcudmFsdWUpIHsKICAgIC8vIGNvbnNvbGUubG9nKCIyIixzcmNJbWcsYmluZGluZy52YWx1ZSkKICAgIGlmICghc3JjSW1nKSB7CiAgICAgIC8v5re75YqgaW1nCiAgICAgIHZhciBpbWcgPSBnZXRJbWFnZSgpOwogICAgICBlbC5hcHBlbmRDaGlsZChpbWcpOwogICAgfQogIH0gZWxzZSB7CiAgICAvL+WIoOmZpGltZwogICAgaWYgKHNyY0ltZykgewogICAgICBzcmNJbWcucmVtb3ZlKCk7CiAgICB9CiAgfQp9"},{"version":3,"sources":["E:/VUE2学习/练习VUE博客与就业/个人博客项目/my-site/src/directives/loading.js"],"names":["loadingUrl","styles","getImage","img","document","createElement","dataset","role","src","className","loading","getImgUrl","el","str","querySelector","binding","srcImg","value","appendChild","remove"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,sBAAvB;AACA,OAAOC,MAAP,MAAmB,uBAAnB;;AAEA,SAASC,QAAT,GAAmB;AACf,MAAMC,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAZ;AACEF,EAAAA,GAAG,CAACG,OAAJ,CAAYC,IAAZ,GAAmB,SAAnB;AACAJ,EAAAA,GAAG,CAACK,GAAJ,GAAQR,UAAR;AACFG,EAAAA,GAAG,CAACM,SAAJ,GAAcR,MAAM,CAACS,OAArB;AAEA,SAAOP,GAAP;AACH;;AAED,SAASQ,SAAT,CAAmBC,EAAnB,EAAsB;AAClB,MAAMC,GAAG,GAAGD,EAAE,CAACE,aAAH,CAAiB,0BAAjB,CAAZ,CADkB,CAElB;;AACH,SAAOD,GAAP;AACA;;AAAA;AAGD,eAAe,UAASD,EAAT,EAAaG,OAAb,EAAqB;AAChC;AACD,MAAMC,MAAM,GAAGL,SAAS,CAACC,EAAD,CAAxB,CAFiC,CAGpC;;AACI,MAAGG,OAAO,CAACE,KAAX,EAAiB;AACb;AACA,QAAG,CAACD,MAAJ,EAAW;AACP;AACJ,UAAMb,GAAG,GAAGD,QAAQ,EAApB;AACAU,MAAAA,EAAE,CAACM,WAAH,CAAef,GAAf;AAEC;AACJ,GARD,MAQK;AACD;AACA,QAAGa,MAAH,EAAU;AAEbA,MAAAA,MAAM,CAACG,MAAP;AACI;AAER;AAEA","sourcesContent":["import loadingUrl from \"@/assets/loading.svg\";\r\nimport styles from \"./loading.module.less\";\r\n\r\nfunction getImage(){\r\n    const img = document.createElement(\"img\");\r\n      img.dataset.role = \"loading\";\r\n      img.src=loadingUrl;\r\n    img.className=styles.loading\r\n      \r\n    return img\r\n}\r\n\r\nfunction getImgUrl(el){\r\n    const str = el.querySelector(\"img[data-role = loading]\");\r\n    // console.log(\"el\",str)\r\n return str\r\n};\r\n\r\n\r\nexport default function(el, binding){\r\n    // console.log(el)\r\n   const srcImg = getImgUrl(el);\r\n//    console.log(\"1\",srcImg)\r\n    if(binding.value){\r\n        // console.log(\"2\",srcImg,binding.value)\r\n        if(!srcImg){\r\n            //添加img\r\n        const img = getImage();\r\n        el.appendChild(img)\r\n        \r\n        }    \r\n    }else{\r\n        //删除img\r\n        if(srcImg){\r\n    \r\n     srcImg.remove();\r\n        }  \r\n   \r\n}\r\n\r\n}\r\n"]}]}