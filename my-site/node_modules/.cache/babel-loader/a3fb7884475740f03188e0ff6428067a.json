{"remainingRequest":"E:\\VUE2学习\\搭建工程\\远程获取数据\\my-site\\node_modules\\babel-loader\\lib\\index.js!E:\\VUE2学习\\搭建工程\\远程获取数据\\my-site\\src\\directives\\loading.js","dependencies":[{"path":"E:\\VUE2学习\\搭建工程\\远程获取数据\\my-site\\src\\directives\\loading.js","mtime":1616998152953},{"path":"E:\\VUE2学习\\搭建工程\\远程获取数据\\my-site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\VUE2学习\\搭建工程\\远程获取数据\\my-site\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGxvYWRpbmdVcmwgZnJvbSAiQC9hc3NldHMvbG9hZGluZy5zdmciOwppbXBvcnQgc3R5bGVzIGZyb20gIi4vbG9hZGluZy5tb2R1bGUubGVzcyI7IC8v5b6X5YiwZWzkuK1sb2FkaW5n55qE5pWI5p6caW1n5YWD57SgCgpmdW5jdGlvbiBnZXRMb2FkaW5nSW1hZ2UoZWwpIHsKICByZXR1cm4gZWwucXVlcnlTZWxlY3RvcigiaW1nW2RhdGEtcm9sZT1sb2FkaW5nXSIpOwp9CgpmdW5jdGlvbiBjcmVhdGVMb2FkaW5nSW1nKCkgewogIHZhciBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTsKICBpbWcuZGF0YXNldC5yb2xlID0gImxhb2RpbmciOwogIGltZy5zcmMgPSBsb2FkaW5nVXJsOwogIGltZy5jbGFzc05hbWUgPSBzdHlsZXMubG9hZGluZzsKICByZXR1cm4gaW1nOwp9CgpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoZWwsIGJpbmRpbmcpIHsKICAvL+agueaNrmJpbmRpbmcudmFsdWXnmoTlgLws5Yaz5a6a5Yib5bu65oiW5Yig6ZmkaW1n5YWD57SgCiAgdmFyIGN1ckltZyA9IGdldExvYWRpbmdJbWFnZShlbCk7CgogIGlmIChiaW5kaW5nLnZhbHVlKSB7CiAgICBpZiAoIWN1ckltZykgewogICAgICB2YXIgaW1nID0gY3JlYXRlTG9hZGluZ0ltZygpOwogICAgICBlbC5hcHBlbmRDaGlsZChpbWcpOwogICAgfQogIH0gZWxzZSB7CiAgICBpZiAoY3VySW1nKSBjdXJJbWcucmVtb3ZlKCk7CiAgfQp9"},{"version":3,"sources":["E:/VUE2学习/搭建工程/远程获取数据/my-site/src/directives/loading.js"],"names":["loadingUrl","styles","getLoadingImage","el","querySelector","createLoadingImg","img","document","createElement","dataset","role","src","className","loading","binding","curImg","value","appendChild","remove"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,sBAAvB;AACA,OAAOC,MAAP,MAAmB,uBAAnB,C,CACA;;AACA,SAASC,eAAT,CAAyBC,EAAzB,EAA4B;AACzB,SAAOA,EAAE,CAACC,aAAH,CAAiB,wBAAjB,CAAP;AACF;;AACD,SAASC,gBAAT,GAA2B;AACvB,MAAMC,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAZ;AACAF,EAAAA,GAAG,CAACG,OAAJ,CAAYC,IAAZ,GAAmB,SAAnB;AACAJ,EAAAA,GAAG,CAACK,GAAJ,GAAUX,UAAV;AACCM,EAAAA,GAAG,CAACM,SAAJ,GAAgBX,MAAM,CAACY,OAAvB;AACA,SAAOP,GAAP;AACJ;;AAED,eAAe,UAASH,EAAT,EAAaW,OAAb,EAAqB;AACpC;AACA,MAAMC,MAAM,GAAGb,eAAe,CAACC,EAAD,CAA9B;;AACA,MAAGW,OAAO,CAACE,KAAX,EAAiB;AACb,QAAG,CAACD,MAAJ,EAAW;AACP,UAAMT,GAAG,GAAGD,gBAAgB,EAA5B;AACAF,MAAAA,EAAE,CAACc,WAAH,CAAeX,GAAf;AACH;AACJ,GALD,MAKK;AACD,QAAGS,MAAH,EACAA,MAAM,CAACG,MAAP;AACH;AACA","sourcesContent":["import loadingUrl from \"@/assets/loading.svg\";\r\nimport styles from \"./loading.module.less\";\r\n//得到el中loading的效果img元素\r\nfunction getLoadingImage(el){\r\n   return el.querySelector(\"img[data-role=loading]\")\r\n}\r\nfunction createLoadingImg(){\r\n    const img = document.createElement(\"img\");\r\n    img.dataset.role = \"laoding\";\r\n    img.src = loadingUrl;\r\n     img.className = styles.loading;\r\n     return img;\r\n}\r\n\r\nexport default function(el, binding){\r\n//根据binding.value的值,决定创建或删除img元素\r\nconst curImg = getLoadingImage(el);\r\nif(binding.value){\r\n    if(!curImg){\r\n        const img = createLoadingImg();\r\n        el.appendChild(img)\r\n    }  \r\n}else{\r\n    if(curImg)\r\n    curImg.remove();\r\n}\r\n}\r\n\r\n\r\n\r\n"]}]}