{"remainingRequest":"E:\\VUE2学习\\搭建工程\\个人博客项目\\my-site\\node_modules\\babel-loader\\lib\\index.js!E:\\VUE2学习\\搭建工程\\个人博客项目\\my-site\\src\\store\\setting.js","dependencies":[{"path":"E:\\VUE2学习\\搭建工程\\个人博客项目\\my-site\\src\\store\\setting.js","mtime":1618901536526},{"path":"E:\\VUE2学习\\搭建工程\\个人博客项目\\my-site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\VUE2学习\\搭建工程\\个人博客项目\\my-site\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkU6L1ZVRTJcdTVCNjZcdTRFNjAvXHU2NDJEXHU1RUZBXHU1REU1XHU3QTBCL1x1NEUyQVx1NEVCQVx1NTM1QVx1NUJBMlx1OTg3OVx1NzZFRS9teS1zaXRlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyBnZXRTZXR0aW5nIH0gZnJvbSAiQC9hcGkvc2V0dGluZyI7CmltcG9ydCB7IHRpdGxlQ29udHJvbGxlciB9IGZyb20gIkAvdXRpbHMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogewogICAgbG9hZGluZzogZmFsc2UsCiAgICBkYXRhOiBudWxsCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldExvYWRpbmc6IGZ1bmN0aW9uIHNldExvYWRpbmcoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUubG9hZGluZyA9IHBheWxvYWQ7CiAgICB9LAogICAgc2V0RGF0YTogZnVuY3Rpb24gc2V0RGF0YShzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5kYXRhID0gcGF5bG9hZDsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGZldGNoU2V0dGluZzogZnVuY3Rpb24gZmV0Y2hTZXR0aW5nKGN0eCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXNwLCBsaW5rOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGN0eC5jb21taXQoInNldExvYWRpbmciLCB0cnVlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldFNldHRpbmcoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBjdHguY29tbWl0KCJzZXREYXRhIiwgcmVzcCk7CiAgICAgICAgICAgICAgICBjdHguY29tbWl0KCJzZXRMb2FkaW5nIiwgZmFsc2UpOyAvLzxsaW5rIHJlbD0ic2hvcnRjdXQgaWNvbiIgaHJlZj0iLi4vZmF2aWNvbi5pY28iIHR5cGU9ImltYWdlL3gtaWNvbiI+PC9saW5rPiAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgaWYgKCFyZXNwLmZhdmljb24pIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBsaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigibGlua1tyZWY9J3Nob3J0Y3V0IGljb24nXSIpOwoKICAgICAgICAgICAgICAgIGlmICghbGluaykgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpbmsiKTsKICAgICAgICAgICAgICAgIGxpbmsucmVsID0gInNob3J0Y3V0IGljb24iOwogICAgICAgICAgICAgICAgbGluay5ocmVmID0gcmVzcC5mYXZpY29uOwogICAgICAgICAgICAgICAgbGluay50eXBlID0gImltYWdlcy94LWljb24iOwogICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaGVhZCIpLmFwcGVuZENoaWxkKGxpbmspOwoKICAgICAgICAgICAgICAgIGlmIChyZXNwLnNpdGVUaXRsZSkgewogICAgICAgICAgICAgICAgICB0aXRsZUNvbnRyb2xsZXIuc2V0U2l0ZVRpdGxlKHJlc3Auc2l0ZVRpdGxlKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["E:/VUE2学习/搭建工程/个人博客项目/my-site/src/store/setting.js"],"names":["getSetting","titleController","namespaced","state","loading","data","mutations","setLoading","payload","setData","actions","fetchSetting","ctx","commit","resp","favicon","link","document","querySelector","createElement","rel","href","type","appendChild","siteTitle","setSiteTitle"],"mappings":";;AAAA,SAASA,UAAT,QAA2B,eAA3B;AACA,SAASC,eAAT,QAAgC,SAAhC;AACA,eAAe;AACXC,EAAAA,UAAU,EAAE,IADD;AAEXC,EAAAA,KAAK,EAAC;AACLC,IAAAA,OAAO,EAAE,KADJ;AAELC,IAAAA,IAAI,EAAE;AAFD,GAFK;AAMXC,EAAAA,SAAS,EAAC;AACNC,IAAAA,UADM,sBACKJ,KADL,EACYK,OADZ,EACoB;AACtBL,MAAAA,KAAK,CAACC,OAAN,GAAgBI,OAAhB;AACH,KAHK;AAINC,IAAAA,OAJM,mBAIEN,KAJF,EAISK,OAJT,EAIiB;AAChBL,MAAAA,KAAK,CAACE,IAAN,GAAaG,OAAb;AACH;AANE,GANC;AAcXE,EAAAA,OAAO,EAAC;AACEC,IAAAA,YADF,wBACeC,GADf,EACmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACnBA,gBAAAA,GAAG,CAACC,MAAJ,CAAW,YAAX,EAAyB,IAAzB;AADmB;AAAA,uBAEAb,UAAU,EAFV;;AAAA;AAEbc,gBAAAA,IAFa;AAGnBF,gBAAAA,GAAG,CAACC,MAAJ,CAAW,SAAX,EAAsBC,IAAtB;AACAF,gBAAAA,GAAG,CAACC,MAAJ,CAAW,YAAX,EAAyB,KAAzB,EAJmB,CAKjB;;AALiB,qBAOnBC,IAAI,CAACC,OAPc;AAAA;AAAA;AAAA;;AAQpBC,gBAAAA,IARoB,GAQbC,QAAQ,CAACC,aAAT,CAAuB,2BAAvB,CARa;;AAAA,qBASrBF,IATqB;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAYxBA,gBAAAA,IAAI,GAAGC,QAAQ,CAACE,aAAT,CAAuB,MAAvB,CAAP;AACAH,gBAAAA,IAAI,CAACI,GAAL,GAAS,eAAT;AACAJ,gBAAAA,IAAI,CAACK,IAAL,GAAUP,IAAI,CAACC,OAAf;AACAC,gBAAAA,IAAI,CAACM,IAAL,GAAU,eAAV;AACAL,gBAAAA,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+BK,WAA/B,CAA2CP,IAA3C;;AAEA,oBAAGF,IAAI,CAACU,SAAR,EAAkB;AACjBvB,kBAAAA,eAAe,CAACwB,YAAhB,CAA6BX,IAAI,CAACU,SAAlC;AAEA;;AArBuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBtB;AAxBG;AAdG,CAAf","sourcesContent":["import { getSetting } from \"@/api/setting\";\r\nimport { titleController } from \"@/utils\";     \r\nexport default {\r\n    namespaced: true,\r\n    state:{ \r\n     loading: false,\r\n     data: null,\r\n    },\r\n    mutations:{\r\n        setLoading(state, payload){\r\n            state.loading = payload;\r\n        },\r\n        setData(state, payload){\r\n               state.data = payload;\r\n           }\r\n    },\r\n    actions:{\r\n        async fetchSetting(ctx){\r\n            ctx.commit(\"setLoading\", true);\r\n            const resp = await getSetting();\r\n            ctx.commit(\"setData\", resp);\r\n            ctx.commit(\"setLoading\", false);\r\n              //<link rel=\"shortcut icon\" href=\"../favicon.ico\" type=\"image/x-icon\"></link>              \r\n     \r\n         if(resp.favicon){\r\n       let link = document.querySelector(\"link[ref='shortcut icon']\");\r\n       if(link){                         \r\n           return\r\n       }\r\n       link = document.createElement(\"link\");\r\n       link.rel=\"shortcut icon\";\r\n       link.href=resp.favicon;\r\n       link.type=\"images/x-icon\";\r\n       document.querySelector(\"head\").appendChild(link);\r\n      \r\n       if(resp.siteTitle){\r\n        titleController.setSiteTitle(resp.siteTitle);\r\n        \r\n       }\r\n        }\r\n        }   \r\n    }\r\n}"]}]}