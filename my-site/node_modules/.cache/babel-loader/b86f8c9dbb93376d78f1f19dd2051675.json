{"remainingRequest":"E:\\VUE2学习\\搭建工程\\远程获取数据\\my-site\\node_modules\\babel-loader\\lib\\index.js!E:\\VUE2学习\\搭建工程\\弹出消息\\my-site\\src\\utils\\showMessage.js","dependencies":[{"path":"E:\\VUE2学习\\搭建工程\\弹出消息\\my-site\\src\\utils\\showMessage.js","mtime":1616499963478},{"path":"E:\\VUE2学习\\搭建工程\\远程获取数据\\my-site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\VUE2学习\\搭建工程\\远程获取数据\\my-site\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IGdldENvbXBvbmVudFJvb3REb20gZnJvbSAiLi9nZXRDb21wb25lbnRSb290RG9tIjsKaW1wb3J0IEljb24gZnJvbSAiQC9jb21wb25lbnRzL0ljb24iOwppbXBvcnQgc3R5bGVzIGZyb20gIi4vc2hvd01lc3NhZ2UubW9kdWxlLmxlc3MiOwovKioNCiAqIOW8ueWHuua2iOaBrw0KICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnQgIOa2iOaBr+WGheWuuQ0KICogIEBwYXJhbSB7TnVtYmVyfSBkdXJhdGlvbiDlpJrkuYXlkI7mtojlpLENCiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIOa2iOaBr+exu+WeiyAgaW5mbyBlcnJvciAgc3VjY2VzcyB3YXJuDQogKiBAcGFyYW0ge0h0bWxFbGVtZW50fSBjb250YWluZXIg5a655ZmoIOa2iOaBr+S8muaYvuekuuWIsOivpeWuueWZqOeahOato+S4re+8jOWmguaenOS4jeS8oO+8jOWImeaYvuekuuWIsOmhtemdoueahOato+S4rQ0KICovCgpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7CiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwogIHZhciBjb250ZW50ID0gb3B0aW9ucy5jb250ZW50IHx8ICIiOwogIHZhciB0eXBlID0gb3B0aW9ucy50eXBlIHx8ICJpbmZvIjsKICB2YXIgZHVyYXRpb24gPSBvcHRpb25zLmR1cmF0aW9uIHx8IDIwMDA7CiAgdmFyIGNvbnRhaW5lciA9IG9wdGlvbnMuY29udGFpbmVyIHx8IGRvY3VtZW50LmJvZHk7IC8v5Yib5bu65raI5oGvCgogIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICB2YXIgaWNvbkRvbSA9IGdldENvbXBvbmVudFJvb3REb20oSWNvbiwgewogICAgdHlwZTogdHlwZQogIH0pOwogIGRpdi5pbm5lckhUTUwgPSAiPHNwYW4gY2xhc3M9XCIiLmNvbmNhdChzdHlsZXMuaWNvbiwgIlwiPiIpLmNvbmNhdChpY29uRG9tLm91dGVySFRNTCwgIjwvc3Bhbj4gPGRpdj4iKS5jb25jYXQoY29udGVudCwgIjwvZGl2PiIpOyAvL+iuvue9ruagt+W8jwogIC8vIGNvbnNvbGUubG9nKHN0eWxlcykKCiAgdmFyIHR5cGVDbGFzc05hbWUgPSBzdHlsZXNbIm1lc3NhZ2UtIi5jb25jYXQodHlwZSldOyAvL+exu+Wei+agt+W8jwoKICBkaXYuY2xhc3NOYW1lID0gIiIuY29uY2F0KHN0eWxlcy5tZXNzYWdlLCAiICIpLmNvbmNhdCh0eXBlQ2xhc3NOYW1lLCAiICIpOyAvL+WwhmRpduWKoOWFpeWIsOWuueWZqOS4rQogIC8v5a655Zmo55qEcG9zaXRpb27mmK/lkKbmlLnliqjov4cKCiAgaWYgKGdldENvbXB1dGVkU3R5bGUoY29udGFpbmVyKS5wb3NpdGlvbiA9PT0gInN0YXRpYyIpIHsKICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICJyZWxhdGl2ZSI7CiAgfQoKICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2KTsgLy8gIGNvbnNvbGUubG9nKGRpdik7CiAgLy/orqnmtY/op4jlmajlvLrooYzmuLLmn5PkuIDmrKEKCiAgZGl2LmNsaWVudEhlaWdodDsgLy/lr7zoh7RyZWZsb3cKICAvL+WbnuW9kuWIsOato+W4uOS9jee9rgoKICBkaXYuc3R5bGUub3BhY2l0eSA9IDE7CiAgZGl2LnN0eWxlLnRyYW5zZm9ybSA9ICJ0cmFuc2xhdGUoLTUwJVx1RkYwQy01MCUpIjsgLy/nrYnkuIDmrrXml7bpl7TmtojlpLEKCiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICBkaXYuc3R5bGUub3BhY2l0eSA9IDA7CiAgICBkaXYuc3R5bGUudHJhbnNmb3JtID0gInRyYW5zbGF0ZSgtNTAlLC01MCUpIHRyYW5zbGF0ZVkoLTI1cHgpIjsKICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCJ0cmFuc2l0aW9uZW5kIiwgZnVuY3Rpb24gKCkgewogICAgICBkaXYucmVtb3ZlKCk7IC8v6L+Q6KGM5Zue6LCD5Ye95pWwCgogICAgICBvcHRpb25zLmNhbGxiYWNrICYmIG9wdGlvbnMuY2FsbGJhY2soKTsKICAgIH0sIHsKICAgICAgb25jZTogdHJ1ZQogICAgfSk7CiAgfSwgZHVyYXRpb24pOwp9"},{"version":3,"sources":["E:/VUE2学习/搭建工程/弹出消息/my-site/src/utils/showMessage.js"],"names":["getComponentRootDom","Icon","styles","options","content","type","duration","container","document","body","div","createElement","iconDom","innerHTML","icon","outerHTML","typeClassName","className","message","getComputedStyle","position","style","appendChild","clientHeight","opacity","transform","setTimeout","addEventListener","remove","callback","once"],"mappings":";AAAA,OAAOA,mBAAP,MAAgC,uBAAhC;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,YAAsB;AAAA,MAAbC,OAAa,uEAAH,EAAG;AACjC,MAAMC,OAAO,GAAGD,OAAO,CAACC,OAAR,IAAmB,EAAnC;AACA,MAAMC,IAAI,GAAGF,OAAO,CAACE,IAAR,IAAgB,MAA7B;AACA,MAAMC,QAAQ,GAAGH,OAAO,CAACG,QAAR,IAAoB,IAArC;AACA,MAAMC,SAAS,GAAGJ,OAAO,CAACI,SAAR,IAAqBC,QAAQ,CAACC,IAAhD,CAJiC,CAMjC;;AACA,MAAMC,GAAG,GAAEF,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAAX;AAEA,MAAMC,OAAO,GAAGZ,mBAAmB,CAACC,IAAD,EAAO;AAClCI,IAAAA,IAAI,EAAJA;AADkC,GAAP,CAAnC;AAKAK,EAAAA,GAAG,CAACG,SAAJ,2BAAgCX,MAAM,CAACY,IAAvC,gBAAgDF,OAAO,CAACG,SAAxD,0BAAiFX,OAAjF,YAdiC,CAejC;AACA;;AACA,MAAMY,aAAa,GAAGd,MAAM,mBAAYG,IAAZ,EAA5B,CAjBiC,CAiBe;;AAChDK,EAAAA,GAAG,CAACO,SAAJ,aAAmBf,MAAM,CAACgB,OAA1B,cAAqCF,aAArC,OAlBiC,CAoBjC;AAEI;;AACA,MAAGG,gBAAgB,CAACZ,SAAD,CAAhB,CAA4Ba,QAA5B,KAAyC,QAA5C,EAAqD;AACjDb,IAAAA,SAAS,CAACc,KAAV,CAAgBD,QAAhB,GAA2B,UAA3B;AAEP;;AACDb,EAAAA,SAAS,CAACe,WAAV,CAAsBZ,GAAtB,EA3BiC,CA4BjC;AAEA;;AACAA,EAAAA,GAAG,CAACa,YAAJ,CA/BiC,CA+BhB;AAGjB;;AACAb,EAAAA,GAAG,CAACW,KAAJ,CAAUG,OAAV,GAAkB,CAAlB;AACAd,EAAAA,GAAG,CAACW,KAAJ,CAAUI,SAAV,+BApCiC,CAsCjC;;AACAC,EAAAA,UAAU,CAAC,YAAI;AACXhB,IAAAA,GAAG,CAACW,KAAJ,CAAUG,OAAV,GAAoB,CAApB;AACDd,IAAAA,GAAG,CAACW,KAAJ,CAAUI,SAAV;AAGHf,IAAAA,GAAG,CAACiB,gBAAJ,CACI,eADJ,EACoB,YAAU;AACtBjB,MAAAA,GAAG,CAACkB,MAAJ,GADsB,CAEtB;;AACAzB,MAAAA,OAAO,CAAC0B,QAAR,IAAoB1B,OAAO,CAAC0B,QAAR,EAApB;AACH,KALL,EAMI;AAACC,MAAAA,IAAI,EAAC;AAAN,KANJ;AAQH,GAba,EAaZxB,QAbY,CAAV;AAgBH","sourcesContent":["import getComponentRootDom from \"./getComponentRootDom\";\r\nimport Icon from \"@/components/Icon\";\r\nimport styles from \"./showMessage.module.less\"\r\n\r\n/**\r\n * 弹出消息\r\n * @param {String} content  消息内容\r\n *  @param {Number} duration 多久后消失\r\n * @param {string} type 消息类型  info error  success warn\r\n * @param {HtmlElement} container 容器 消息会显示到该容器的正中，如果不传，则显示到页面的正中\r\n */\r\nexport default function(options = {}){\r\n    const content = options.content || \"\";\r\n    const type = options.type || \"info\";\r\n    const duration = options.duration || 2000;\r\n    const container = options.container || document.body;\r\n    \r\n    //创建消息\r\n    const div =document.createElement(\"div\");\r\n\r\n    const iconDom = getComponentRootDom(Icon, {\r\n            type,\r\n    \r\n    });\r\n   \r\n    div.innerHTML = `<span class=\"${styles.icon}\">${iconDom.outerHTML}</span> <div>${content}</div>`;\r\n    //设置样式\r\n    // console.log(styles)\r\n    const typeClassName = styles[`message-${type}`];//类型样式\r\n    div.className = `${styles.message} ${typeClassName} `;\r\n\r\n    //将div加入到容器中\r\n    \r\n        //容器的position是否改动过\r\n        if(getComputedStyle(container).position === \"static\"){\r\n            container.style.position = \"relative\";\r\n        \r\n    }\r\n    container.appendChild(div);\r\n    //  console.log(div);\r\n\r\n    //让浏览器强行渲染一次\r\n    div.clientHeight;//导致reflow\r\n\r\n\r\n    //回归到正常位置\r\n    div.style.opacity=1;\r\n    div.style.transform=`translate(-50%，-50%)`;\r\n\r\n    //等一段时间消失\r\n    setTimeout(()=>{\r\n        div.style.opacity = 0;\r\n       div.style.transform = `translate(-50%,-50%) translateY(-25px)`;\r\n    \r\n\r\n    div.addEventListener(\r\n        \"transitionend\",function(){\r\n            div.remove();\r\n            //运行回调函数\r\n            options.callback && options.callback();\r\n        },\r\n        {once:true}\r\n    );\r\n},duration);\r\n\r\n\r\n}"]}]}