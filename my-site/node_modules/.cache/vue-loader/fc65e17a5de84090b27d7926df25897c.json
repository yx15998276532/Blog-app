{"remainingRequest":"E:\\VUE2学习\\搭建工程\\个人博客项目\\my-site\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\VUE2学习\\搭建工程\\个人博客项目\\my-site\\src\\components\\MessageArea\\DataForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\VUE2学习\\搭建工程\\个人博客项目\\my-site\\src\\components\\MessageArea\\DataForm.vue","mtime":1618909308627},{"path":"E:\\VUE2学习\\搭建工程\\个人博客项目\\my-site\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\VUE2学习\\搭建工程\\个人博客项目\\my-site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\VUE2学习\\搭建工程\\个人博客项目\\my-site\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgIGRhdGEoKXsNCiAgICAgICAgcmV0dXJuew0KICAgICAgICAgIGZvcm1EYXRhOnsNCiAgICAgICAgICAgICAgbmlja25hbWU6IiIsDQogICAgICAgICAgICAgIGNvbnRlbnQ6IiIsDQogICAgICAgICAgfSAsDQogICAgICAgICAgZXJyb3I6ew0KICAgICAgICAgICAgICBuaWNrbmFtZToiIiwNCiAgICAgICAgICAgICAgY29udGVudDoiIiwNCiAgICAgICAgICB9ICwNCiAgICAgICAgICBpc1N1Ym1pdGluZzogZmFsc2UsDQogICAgICAgIH07DQogICAgfSwNCiAgICBtZXRob2RzOnsNCiAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVTdWJtaXQoKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvci5uaWNrbmFtZSA9IHRoaXMuZm9ybURhdGEubmlja25hbWUgPyAiIiA6ICfor7floavlhpnnlKjmiLfmmLXnp7AnOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yLmNvbnRlbnQgPSB0aGlzLmZvcm1EYXRhLmNvbnRlbnQgPyAiIiA6ICfor7floavlhpnlhoXlrrknOw0KICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmVycm9yLm5pY2tuYW1lIHx8IHRoaXMuZXJyb3IuY29udGVudCl7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgLy/mraPlnKjmj5DkuqTvvIzpmLLmraLph43lpI3ngrnlh7sNCiAgICAgICAgICAgICAgICAgICB0aGlzLmlzU3VibWl0aW5nID0gdHJ1ZTsgICAgICAgIA0KICAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoInN1Ym1pdCIsIHRoaXMuZm9ybURhdGEsIChzdWNjZXNzTWFnKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICB0aGlzLiRzaG93TWVzc2FnZSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6c3VjY2Vzc01hZywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTonc3VjY2VzcycsDQogICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOjEwMDAsDQogICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjp0aGlzLiRyZWZzLmZvcm0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6KCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1N1Ym1pdGluZyA9IGZhbHNlOyAgIC8v5aSE55CG5a6M5LmL5ZCO6L+U5ZueDQogICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm1EYXRhLm5pY2tuYW1lID0gIiI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm1EYXRhLmNvbnRlbnQgPSAiICI7DQogICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICB9KSAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICB9ICk7Ly8g6K6p54i257uE5Lu25p2l5aSE55CG5LqL5Lu2DQogICAgICAgICAgfSAgICAgICANCiAgICAgfQ0KfQ0K"},{"version":3,"sources":["DataForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"DataForm.vue","sourceRoot":"src/components/MessageArea","sourcesContent":["<template>\r\n  <form class=\"data-form-container\" @submit.prevent=\"handleSubmit\"\r\n   ref=\"form\" id=\"data-form-container\">\r\n   <div class=\"form-item\">\r\n       <div class=\"input-area\">                              \r\n           <input type=\"text\" placeholder=\"用户昵称\" v-model=\"formData.nickname\"\r\n          maxlength=\"10\"\r\n           />\r\n           <span class=\"tip\">{{ formData.nickname.length }}/10</span>\r\n       </div>\r\n    <div class=\"error\"> {{ error.nickname }} </div>\r\n   </div>\r\n   <div class=\"form-item\">\r\n       <div class=\"text-area\">\r\n           <textarea maxlength=\"300\" v-model=\"formData.content\"\r\n           placeholder=\"输入内容\">  </textarea>\r\n        <span class=\"tip\">{{ formData.content.length }}/300</span>\r\n       </div>\r\n       <div class=\"error\"> {{ error.content  }} </div>\r\n   </div>\r\n   <div class=\"form-item\">\r\n       <div class=\"button-area\" >\r\n           <button :disabled=\"isSubmiting\" >\r\n             {{ isSubmiting ? \"提交中...\" : \"提交\" }}\r\n           </button>\r\n       </div>\r\n   </div>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n     data(){\r\n        return{\r\n          formData:{\r\n              nickname:\"\",\r\n              content:\"\",\r\n          } ,\r\n          error:{\r\n              nickname:\"\",\r\n              content:\"\",\r\n          } ,\r\n          isSubmiting: false,\r\n        };\r\n    },\r\n    methods:{\r\n                      handleSubmit(){\r\n                    this.error.nickname = this.formData.nickname ? \"\" : '请填写用户昵称';\r\n                    this.error.content = this.formData.content ? \"\" : '请填写内容';\r\n                    if(this.error.nickname || this.error.content){\r\n                        return \r\n                    }\r\n                    //正在提交，防止重复点击\r\n                   this.isSubmiting = true;        \r\n                   this.$emit(\"submit\", this.formData, (successMag) => {\r\n                     this.$showMessage({\r\n                          content:successMag,\r\n                          type:'success',\r\n                          duration:1000,\r\n                          container:this.$refs.form,\r\n                            callback:() => {\r\n                              this.isSubmiting = false;   //处理完之后返回\r\n                           this.formData.nickname = \"\";\r\n                           this.formData.content = \" \";\r\n       \r\n                          }\r\n                      })               \r\n                    } );// 让父组件来处理事件\r\n          }       \r\n     }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n@import \"~@/styles/var.less\";\r\n.data-form-container{\r\n    margin-bottom: 20px;\r\n    overflow: hidden;\r\n}\r\n.form-item{\r\n    margin-bottom: 8px;\r\n}\r\n.input-area{\r\n    width: 50%;\r\n    position: relative;\r\n}\r\n.text-area{\r\n    position:relative;\r\n}\r\ninput, textarea{\r\n    outline: none;\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n    border: 1px dashed @gray;\r\n    color: @words;\r\n    font-size: 14px;\r\n    border-radius: 4px;\r\n    display:block ;\r\n}\r\n.tip{\r\n    position: absolute;\r\n    right: 5px;\r\n    font-size: 12px;\r\n    color: #b4b8bc;\r\n    bottom: 5px;\r\n}\r\ninput{\r\n    height: 40px;\r\n    padding: 0 15px;\r\n}\r\ntextarea{\r\n    height: 120px;\r\n    padding: 8px 15px;\r\n    resize: none;\r\n}\r\n.error{\r\n    margin-top: 6px;\r\n    color:@danger;\r\n    font-size:\"14px\";\r\n    height: 20px;\r\n    line-height: 20px;\r\n}\r\nbutton{\r\n    position: relative;\r\n    color:#fff;\r\n    border: none;\r\n    cursor: pointer;\r\n    outline: none;\r\n    width: 100px;\r\n    height: 34px;\r\n    border-radius: 4px;\r\n    background: @primary;\r\n}\r\n</style>"]}]}