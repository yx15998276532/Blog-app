{"remainingRequest":"E:\\VUE2学习\\搭建工程\\远程获取数据\\my-site\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\VUE2学习\\搭建工程\\远程获取数据\\my-site\\src\\views\\Home\\Carouselitem.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\VUE2学习\\搭建工程\\远程获取数据\\my-site\\src\\views\\Home\\Carouselitem.vue","mtime":1616869040655},{"path":"E:\\VUE2学习\\搭建工程\\远程获取数据\\my-site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\VUE2学习\\搭建工程\\远程获取数据\\my-site\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\VUE2学习\\搭建工程\\远程获取数据\\my-site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\VUE2学习\\搭建工程\\远程获取数据\\my-site\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgSW1hZ2VzTG9hZGVyIGZyb20gIkAvY29tcG9uZW50cy9JbWFnZUxvYWRlciI7DQoNCiBleHBvcnQgZGVmYXVsdCB7DQogICAgICAgcHJvcHM6WyJjYXJvdXNlbCJdLA0KICAgIGNvbXBvbmVudHM6ew0KICAgICAgICBJbWFnZXNMb2FkZXIsICAgDQogICAgfSwNCiAgICAgICAgZGF0YSgpew0KICAgICAgICAgICAgcmV0dXJuew0KICAgICAgICAgICAgdGl0bGVXaWR0aDowLA0KICAgICAgICAgICAgZGVzY1dpZHRoOjAsDQogICAgICAgICAgICBjb250YWluZXJTaXplOm51bGwsICAgLy/lpJblsYLlrrnlmajnmoTlsLrlr7gNCiAgICAgICAgICAgIGlubmVyU2l6ZTpudWxsLCAgLy/ph4zlsYLlrrnlmajnmoTlsLrlr7gNCiAgICAgICAgICAgIG1vdXNlWDowLC8v6byg5qCH5qiq5Z2Q5qCHDQogICAgICAgICAgICBtb3VzZVk6MCAgLy8gIOm8oOagh+e6teWdkOaghw0KICAgICAgICB9Ow0KICAgICAgICB9LA0KICAgICAgICBjb21wdXRlZDp7DQogICAgICAgICAgICAvL+W+l+WIsOWbvueJh+WdkOaghw0KICAgICAgICAgICAgaW1hZ2VQb3NpdGlvbigpew0KICAgICAgICAgICAgICAgICAgaWYoIXRoaXMuaW5uZXJTaXplIHx8ICF0aGlzLmNvbnRhaW5lclNpemUpew0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICBjb25zdCBleHRyYVdpZHRoID0gdGhpcy5pbm5lclNpemUud2lkdGggLSB0aGlzLmNvbnRhaW5lclNpemUud2lkdGg7Ly/lpJrlh7rnmoTlrr3luqYNCiAgICAgICAgICAgICBjb25zdCBleHRyYUhlaWdodCA9IHRoaXMuaW5uZXJTaXplLmhlaWdodC0gdGhpcy5jb250YWluZXJTaXplLmhlaWdodDsvL+WkmuWHuuWuveW6pg0KICAgICAgICAgICAgIGNvbnN0IGxlZnQgPSAoLWV4dHJhV2lkdGggLyB0aGlzLmNvbnRhaW5lclNpemUud2lkdGgpICogdGhpcy5tb3VzZVg7DQogICAgICAgICAgICAgY29uc3QgdG9wID0gKC1leHRyYUhlaWdodCAvIHRoaXMuY29udGFpbmVyU2l6ZS5oZWlnaHQpICogdGhpcy5tb3VzZVk7DQogICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOmB0cmFuc2xhdGUoJHtsZWZ0fXB4LCAke3RvcH1weClgLA0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBjZW50ZXIoKXsNCiAgICAgICAgICAgICAgICByZXR1cm57DQogICAgICAgICAgICAgICAgICAgIHg6dGhpcy5jb250YWluZXJTaXplLndpZHRoIC8gMiwNCiAgICAgICAgICAgICAgICAgICAgeTp0aGlzLmNvbnRhaW5lclNpemUuaGVpZ2h0IC8gMiwNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfSwNCiAgICAgICAgfSwNCiAgICAgICAgbW91bnRlZCgpew0KICAgICAgICAgICAgdGhpcy50aXRsZVdpZHRoID0gdGhpcy4kcmVmcy50aXRsZS5jbGllbnRXaWR0aDsNCiAgICAgICAgICAgICB0aGlzLmRlc2NXaWR0aCA9IHRoaXMuJHJlZnMuZGVzYy5jbGllbnRXaWR0aDsNCiAgICAgICAgICAgIC8vICBjb25zb2xlLmxvZyh0aGlzLnRpdGxlV2lkdGgsIHRoaXMuZGVzY1dpZHRoKQ0KICAgICAgICAgICAgLy8gdGhpcy5zaG93V29yZHMoKQ0KICAgICAgICAgIHRoaXMuIHNldFNpemUoKTsNCiAgICAgICANCiAgICAgICAgdGhpcy5tb3VzZVkgPSB0aGlzLmNlbnRlci55Ow0KICAgICAgICB0aGlzLm1vdXNlWCA9IHRoaXMuY2VudGVyLng7DQoNCiAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgdGhpcy5zZXRTaXplKTsgICAgIA0KICAgICAgICB9LA0KICAgICAgICBkZXN0cm95ZWQoKXsNCiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCB0aGlzLnNldFNpemUpDQogICAgICAgIH0sDQogICAgICAgIG1ldGhvZHM6ew0KICAgICAgICAgICAgLy/osIPnlKjor6Xmlrnms5XvvIzmmL7npLrmloflrZcNCiAgICAgICAgICAgIHNob3dXb3Jkcygpew0KICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMudGl0bGUuc3R5bGUub3BhY2l0eSA9IDE7DQogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy50aXRsZS5zdHlsZS53aWR0aCA9IDA7DQogICAgICAgICAgICAgICAgLy8g5by65Yi26K6p5rWP6KeI5Zmo5riy5p+T5LiA5qyhDQogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy50aXRsZS5jbGllbnRXaWR0aDsgIC8vcmVmbG93DQogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy50aXRsZS5zdHlsZS50cmFuc2l0aW9uID0iMXMiOw0KICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMudGl0bGUuc3R5bGUud2lkdGggPSB0aGlzLnRpdGxlV2lkdGggKyAicHgiOw0KDQogICAgICAgICAgICAgICAgLy/mj4/ov7DkuZ/mmK/kuIDmoLcNCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmRlc2Muc3R5bGUub3BhY2l0eSA9IDE7DQogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5kZXNjLnN0eWxlLndpZHRoID0gMDsNCiAgICAgICAgICAgICAgICAvL+W8uuWItua4suafk+S4gOasoQ0KICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuZGVzYy5jbGllbnRXaWR0aDsNCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmRlc2Muc3R5bGUudHJhbnNpdGlvbiA9ICIycyAxcyI7DQogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5kZXNjLnN0eWxlLndpZHRoID0gdGhpcy5kZXNjV2lkdGggKyAicHgiOw0KICAgICAgICAgICAgfSwNCg0KICAgICAgICAgICAgc2V0U2l6ZSgpew0KICAgICAgICAgICAgdGhpcy5jb250YWluZXJTaXplID0geyAgICAgICAgIA0KICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLiRyZWZzLmNvbnRhaW5lci5jbGllbnRXaWR0aCwNCiAgICAgICAgICAgICAgICBoZWlnaHQ6dGhpcy4kcmVmcy5jb250YWluZXIuY2xpZW50SGVpZ2h0LA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5pbm5lclNpemUgPSB7DQogICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMuJHJlZnMuaW1hZ2UuY2xpZW50V2lkdGgsDQogICAgICAgICAgICAgICAgaGVpZ2h0OnRoaXMuJHJlZnMuaW1hZ2UuY2xpZW50SGVpZ2h0LA0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuY29udGFpbmVyU2l6ZSwgdGhpcy5pbm5lclNpemUpDQogICAgICB9LA0KICAgICAgaGFuZGxlTW91c2VNb3ZlKGUpew0KICAgICAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLiRyZWZzLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsvL+aLv+WIsOWFg+e0oOeahOefqeW9ou+8jGdldEJvdW5kaW5nQ2xpZW50UmVjdOaWueazlQ0KICAgICAgICAgIA0KICAgICAgICB0aGlzLm1vdXNlWCA9IGUuY2xpZW50WCAtIHJlY3QubGVmdDsNCiAgICAgICAgIHRoaXMubW91c2VZID0gZS5jbGllbnRZIC0gcmVjdC50b3A7DQogICAgICAgICANCiAgICAgIH0sDQogICAgICBoYW5kbGVNb3VzZWxlYXZlKGUpew0KICAgICAgICAgIHRoaXMubW91c2VYID0gdGhpcy5jZW50ZXIueDsNCiAgICAgICAgICB0aGlzLm1vdXNlWSA9IHRoaXMuY2VudGVyLnk7DQogICAgICB9DQogICAgICAgIH0NCiAgICAgICAgDQp9DQo="},{"version":3,"sources":["Carouselitem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Carouselitem.vue","sourceRoot":"src/views/Home","sourcesContent":["<template>\r\n <div class=\"carouse-item-container\" ref=\"container\"\r\n @mousemove = \"handleMouseMove\"  @mouseleave=\"handleMouseleave\"   >\r\n    \r\n    <div class=\"carousel-img\"  :style=\" imagePosition\" ref=\"image\">\r\n        <ImagesLoader  @load=\" this.showWords\" \r\n         :src=\"carousel.bigImg \" \r\n        :placeholder=\"carousel.midImg\"/>\r\n        </div>\r\n       \r\n        <div class=\"title\" ref=\"title\">{{ carousel.title }}</div>\r\n\r\n        <div class=\"desc\" ref=\"desc\">{{ carousel.description }}</div>\r\n     </div>\r\n  \r\n</template>\r\n\r\n\r\n<script>\r\nimport ImagesLoader from \"@/components/ImageLoader\";\r\n\r\n export default {\r\n       props:[\"carousel\"],\r\n    components:{\r\n        ImagesLoader,   \r\n    },\r\n        data(){\r\n            return{\r\n            titleWidth:0,\r\n            descWidth:0,\r\n            containerSize:null,   //外层容器的尺寸\r\n            innerSize:null,  //里层容器的尺寸\r\n            mouseX:0,//鼠标横坐标\r\n            mouseY:0  //  鼠标纵坐标\r\n        };\r\n        },\r\n        computed:{\r\n            //得到图片坐标\r\n            imagePosition(){\r\n                  if(!this.innerSize || !this.containerSize){\r\n                return;\r\n            }\r\n             const extraWidth = this.innerSize.width - this.containerSize.width;//多出的宽度\r\n             const extraHeight = this.innerSize.height- this.containerSize.height;//多出宽度\r\n             const left = (-extraWidth / this.containerSize.width) * this.mouseX;\r\n             const top = (-extraHeight / this.containerSize.height) * this.mouseY;\r\n             return {\r\n                 transform:`translate(${left}px, ${top}px)`,\r\n            };\r\n            },\r\n            center(){\r\n                return{\r\n                    x:this.containerSize.width / 2,\r\n                    y:this.containerSize.height / 2,\r\n                };\r\n            },\r\n        },\r\n        mounted(){\r\n            this.titleWidth = this.$refs.title.clientWidth;\r\n             this.descWidth = this.$refs.desc.clientWidth;\r\n            //  console.log(this.titleWidth, this.descWidth)\r\n            // this.showWords()\r\n          this. setSize();\r\n       \r\n        this.mouseY = this.center.y;\r\n        this.mouseX = this.center.x;\r\n\r\n          window.addEventListener(\"resize\", this.setSize);     \r\n        },\r\n        destroyed(){\r\n            window.addEventListener(\"resize\", this.setSize)\r\n        },\r\n        methods:{\r\n            //调用该方法，显示文字\r\n            showWords(){\r\n                this.$refs.title.style.opacity = 1;\r\n                this.$refs.title.style.width = 0;\r\n                // 强制让浏览器渲染一次\r\n                this.$refs.title.clientWidth;  //reflow\r\n                this.$refs.title.style.transition =\"1s\";\r\n                this.$refs.title.style.width = this.titleWidth + \"px\";\r\n\r\n                //描述也是一样\r\n                this.$refs.desc.style.opacity = 1;\r\n                this.$refs.desc.style.width = 0;\r\n                //强制渲染一次\r\n                this.$refs.desc.clientWidth;\r\n                this.$refs.desc.style.transition = \"2s 1s\";\r\n                this.$refs.desc.style.width = this.descWidth + \"px\";\r\n            },\r\n\r\n            setSize(){\r\n            this.containerSize = {         \r\n                width: this.$refs.container.clientWidth,\r\n                height:this.$refs.container.clientHeight,\r\n            }\r\n            this.innerSize = {\r\n                width: this.$refs.image.clientWidth,\r\n                height:this.$refs.image.clientHeight,\r\n            };\r\n            // console.log(this.containerSize, this.innerSize)\r\n      },\r\n      handleMouseMove(e){\r\n          const rect = this.$refs.container.getBoundingClientRect();//拿到元素的矩形，getBoundingClientRect方法\r\n          \r\n        this.mouseX = e.clientX - rect.left;\r\n         this.mouseY = e.clientY - rect.top;\r\n         \r\n      },\r\n      handleMouseleave(e){\r\n          this.mouseX = this.center.x;\r\n          this.mouseY = this.center.y;\r\n      }\r\n        }\r\n        \r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import \"~@/styles/var.less\";\r\n.carouse-item-container{\r\n    color:#fff;\r\n    width: 100%;\r\n    height: 100%;\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n.carousel-img{\r\n width: 110%;\r\n height: 110%;\r\n position: absolute;\r\ntransition: 0.3s;\r\n\r\n}\r\n.title, .desc{\r\n    position: absolute;\r\n    color: #fff;\r\n    left: 30px;\r\n    letter-spacing: 3px;\r\n    text-shadow: 1px 0 0 rgba(0,0,0,0.5), -1px 0 0 rgba(0,0,0,0.5),\r\n    0 1px 0 rgba(0,0,0,0.5),0 -1px 0 rgba(0,0,0,0.5);\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    opacity: 0;\r\n}\r\n.title{\r\n    top:calc(50% - 40px);\r\n    font-size: 2em;\r\n}\r\n.desc{\r\n    top:calc(50% + 20px);\r\n     font-size: 1.2em;\r\n}\r\n\r\n</style>"]}]}