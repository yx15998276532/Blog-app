{"remainingRequest":"E:\\VUE2学习\\搭建工程\\远程获取数据\\my-site\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\VUE2学习\\搭建工程\\远程获取数据\\my-site\\src\\views\\Home\\Carouselitem.vue?vue&type=style&index=0&id=5ac18f79&lang=less&scoped=true&","dependencies":[{"path":"E:\\VUE2学习\\搭建工程\\远程获取数据\\my-site\\src\\views\\Home\\Carouselitem.vue","mtime":1617267710922},{"path":"E:\\VUE2学习\\搭建工程\\远程获取数据\\my-site\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\VUE2学习\\搭建工程\\远程获取数据\\my-site\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\VUE2学习\\搭建工程\\远程获取数据\\my-site\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\VUE2学习\\搭建工程\\远程获取数据\\my-site\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\VUE2学习\\搭建工程\\远程获取数据\\my-site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\VUE2学习\\搭建工程\\远程获取数据\\my-site\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KQGltcG9ydCAifkAvc3R5bGVzL3Zhci5sZXNzIjsNCi5jYXJvdXNlLWl0ZW0tY29udGFpbmVyew0KICAgIGNvbG9yOiNmZmY7DQogICAgd2lkdGg6IDEwMCU7DQogICAgaGVpZ2h0OiAxMDAlOw0KICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICBvdmVyZmxvdzogaGlkZGVuOw0KfQ0KLmNhcm91c2VsLWltZ3sNCiB3aWR0aDogMTEwJTsNCiBoZWlnaHQ6IDExMCU7DQogcG9zaXRpb246IGFic29sdXRlOw0KdHJhbnNpdGlvbjogMC4zczsNCg0KfQ0KLnRpdGxlLCAuZGVzY3sNCiAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgY29sb3I6ICNmZmY7DQogICAgbGVmdDogMzBweDsNCiAgICBsZXR0ZXItc3BhY2luZzogM3B4Ow0KICAgIHRleHQtc2hhZG93OiAxcHggMCAwIHJnYmEoMCwwLDAsMC41KSwgLTFweCAwIDAgcmdiYSgwLDAsMCwwLjUpLA0KICAgIDAgMXB4IDAgcmdiYSgwLDAsMCwwLjUpLDAgLTFweCAwIHJnYmEoMCwwLDAsMC41KTsNCiAgICB3aGl0ZS1zcGFjZTogbm93cmFwOw0KICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgb3BhY2l0eTogMDsNCn0NCi50aXRsZXsNCiAgICB0b3A6Y2FsYyg1MCUgLSA0MHB4KTsNCiAgICBmb250LXNpemU6IDJlbTsNCn0NCi5kZXNjew0KICAgIHRvcDpjYWxjKDUwJSArIDIwcHgpOw0KICAgICBmb250LXNpemU6IDEuMmVtOw0KfQ0KDQo="},{"version":3,"sources":["Carouselitem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Carouselitem.vue","sourceRoot":"src/views/Home","sourcesContent":["<template>\r\n <div class=\"carouse-item-container\" ref=\"container\"\r\n @mousemove = \"handleMouseMove\"  @mouseleave=\"handleMouseleave\"   >\r\n    \r\n    <div class=\"carousel-img\"  :style=\" imagePosition\" ref=\"image\">\r\n        <ImagesLoader  @load=\" this.showWords\" \r\n         :src=\"carousel.bigImg \" \r\n        :placeholder=\"carousel.midImg\"/>\r\n        </div>\r\n       \r\n        <div class=\"title\" ref=\"title\">{{ carousel.title }}</div>\r\n\r\n        <div class=\"desc\" ref=\"desc\">{{ carousel.description }}</div>\r\n     </div>\r\n  \r\n</template>\r\n\r\n\r\n<script>\r\nimport ImagesLoader from \"@/components/ImageLoader\";\r\n\r\n export default {\r\n       props:[\"carousel\"],\r\n    components:{\r\n        ImagesLoader,   \r\n    },\r\n        data(){\r\n            return{\r\n            titleWidth:0,\r\n            descWidth:0,\r\n            containerSize:null,   //外层容器的尺寸\r\n            innerSize:null,  //里层容器的尺寸\r\n            mouseX:0,//鼠标横坐标\r\n            mouseY:0  //  鼠标纵坐标\r\n        };\r\n        },\r\n        computed:{\r\n            //得到图片坐标\r\n            imagePosition(){\r\n                  if(!this.innerSize || !this.containerSize){\r\n                return;\r\n            }\r\n             const extraWidth = this.innerSize.width - this.containerSize.width;//多出的宽度\r\n             const extraHeight = this.innerSize.height- this.containerSize.height;//多出宽度\r\n             const left = (-extraWidth / this.containerSize.width) * this.mouseX;\r\n             const top = (-extraHeight / this.containerSize.height) * this.mouseY;\r\n             return {\r\n                 transform:`translate(${left}px, ${top}px)`,\r\n            };\r\n            },\r\n            center(){\r\n                return{\r\n                    x:this.containerSize.width / 2,\r\n                    y:this.containerSize.height / 2,\r\n                };\r\n            },\r\n        },\r\n        mounted(){\r\n            this.titleWidth = this.$refs.title.clientWidth;\r\n             this.descWidth = this.$refs.desc.clientWidth;\r\n            //  console.log(this.titleWidth, this.descWidth)\r\n            // this.showWords()\r\n          this. setSize();\r\n       \r\n        this.mouseY = this.center.y;\r\n        this.mouseX = this.center.x;\r\n\r\n          window.addEventListener(\"resize\", this.setSize);     \r\n        },\r\n        destroyed(){\r\n            window.removeEventListener(\"resize\", this.setSize)\r\n        },          \r\n        methods:{\r\n            //调用该方法，显示文字\r\n            showWords(){\r\n                this.$refs.title.style.opacity = 1;\r\n                this.$refs.title.style.width = 0;\r\n                // 强制让浏览器渲染一次\r\n                this.$refs.title.clientWidth;  //reflow\r\n                this.$refs.title.style.transition =\"1s\";\r\n                this.$refs.title.style.width = this.titleWidth + \"px\";\r\n\r\n                //描述也是一样\r\n                this.$refs.desc.style.opacity = 1;\r\n                this.$refs.desc.style.width = 0;\r\n                //强制渲染一次\r\n                this.$refs.desc.clientWidth;\r\n                this.$refs.desc.style.transition = \"2s 1s\";\r\n                this.$refs.desc.style.width = this.descWidth + \"px\";\r\n            },\r\n\r\n            setSize(){\r\n            this.containerSize = {         \r\n                width: this.$refs.container.clientWidth,\r\n                height:this.$refs.container.clientHeight,\r\n            }\r\n            this.innerSize = {\r\n                width: this.$refs.image.clientWidth,\r\n                height:this.$refs.image.clientHeight,\r\n            };\r\n            // console.log(this.containerSize, this.innerSize)\r\n      },\r\n      handleMouseMove(e){\r\n          const rect = this.$refs.container.getBoundingClientRect();//拿到元素的矩形，getBoundingClientRect方法\r\n          \r\n        this.mouseX = e.clientX - rect.left;\r\n         this.mouseY = e.clientY - rect.top;\r\n         \r\n      },\r\n      handleMouseleave(e){\r\n          this.mouseX = this.center.x;\r\n          this.mouseY = this.center.y;\r\n      }\r\n        }\r\n        \r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import \"~@/styles/var.less\";\r\n.carouse-item-container{\r\n    color:#fff;\r\n    width: 100%;\r\n    height: 100%;\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n.carousel-img{\r\n width: 110%;\r\n height: 110%;\r\n position: absolute;\r\ntransition: 0.3s;\r\n\r\n}\r\n.title, .desc{\r\n    position: absolute;\r\n    color: #fff;\r\n    left: 30px;\r\n    letter-spacing: 3px;\r\n    text-shadow: 1px 0 0 rgba(0,0,0,0.5), -1px 0 0 rgba(0,0,0,0.5),\r\n    0 1px 0 rgba(0,0,0,0.5),0 -1px 0 rgba(0,0,0,0.5);\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    opacity: 0;\r\n}\r\n.title{\r\n    top:calc(50% - 40px);\r\n    font-size: 2em;\r\n}\r\n.desc{\r\n    top:calc(50% + 20px);\r\n     font-size: 1.2em;\r\n}\r\n\r\n</style>"]}]}